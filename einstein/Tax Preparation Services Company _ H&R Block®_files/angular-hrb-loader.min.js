"use strict";function AngularLoader(){this.domain=["https://www.hrblock.com"],this.domains=["hrbcomdev.hrblock.net","hrbcomdev-csc.hrblock.net","hrbcomdev-az.hrblock.net","hrbcomqa.hrblock.net","hrbcomqa-az.hrblock.net","hrblock.com","lxcarroll.hrblock.net","hrbscaletest.hrblock.com"],this.ngVersions=["1.2.16","1.2.24","1.2.9","1.3","1.4","1.5","1.5.5"],this.ngVersion="1.5.5",this.ngAPIs=["/includes/app/libs/vendor/angular-ver/angular.min.js","/includes/app/libs/vendor/angular-ver/angular-animate.min.js"],this.otherAPIs=[],this.consumerAPIs=[],this.modules=[],this.moduleLoadComponentId=null,this.moduleLoadComponent=null,this.loadStarted=!1,this.scriptLoaded=!1,this.moduleLoaded=!1,this.scope=null,this.scopeRequired=!1,this.loadModuleOnDemand=!1,this.consolidates=[],this.urls=[],this.ngModules=[],this.exclude=!1,this.debug=!1,this.moduleMap={"ui.router":["/includes/app/libs/vendor/angular-ui-router.min.js"],angularSpinner:["/includes/app/libs/vendor/spin.min.js","/includes/app/libs/vendor/angular-spinner.min.js"],validation:["/includes/app/libs/vendor/angular-validation.min.js"],"validation.rule":["/includes/app/libs/vendor/angular-validation-rule.min.js"],ngAria:["/includes/app/libs/vendor/angular-aria.min.js"],ngSanitize:["/includes/app/libs/vendor/angular-sanitize.min.js"],"infinite-scroll":["/includes/app/libs/vendor/angular-infinite-scroll.min.js"],"html5.placeholder":["/includes/app/libs/vendor/angular-placeholder.min.js"],ngMeta:["/includes/app/libs/vendor/angular-meta.min.js"]},this.scriptLoadedUrl=null,this.prevScriptLoadedUrl=null,this.loaderCompleted=!1,this.setVersion=function(ngVersion){this.ngVersion=ngVersion},this.setScopeRequired=function(scopeRequired){this.scopeRequired=scopeRequired},this.setLoadModuleOnDemand=function(loadModuleOnDemand){this.loadModuleOnDemand=loadModuleOnDemand},this.useConsolidate=function(consolidates){this.consolidates=consolidates},this.useConsumerAPIs=function(consumerAPIs){this.consumerAPIs=consumerAPIs},this.excludeAngular=function(exclude){this.exclude=exclude},this.getScope=function(){if(!this.moduleLoaded)return null;if(null==this.scope)try{this.scope=angular.element(document.getElementById(this.moduleLoadComponentId)).scope()._getScope(),null!=this.scope&&this.debug&&console.log("Finally get the _scope object.")}catch(e){this.debug&&console.log("Looking for _scope object : "+e)}return this.scope},this.getModulesUrl=function(name){return this.moduleMap[name]},this.getCorsDomain=function(){for(var corsDomain="",cors=!0,index=0;this.domains.length>index;index++)if(window.location.hostname==this.domains[index]){cors=!1;break}return cors&&(corsDomain=this.domain),corsDomain},this.getConsumerDomain=function(){var corsDomain="";return corsDomain},this.loadScripts=function(callback){"true"==this.getParameterByName("debug")&&(this.debug="true"==this.getParameterByName("debug")?!0:!1);for(var versionAvailable=!1,index=0;this.ngVersions.length>index;index++)this.ngVersions[index]==this.ngVersion&&(versionAvailable=!0);versionAvailable||(this.ngVersion="1.5.5");var corsDomain=this.getCorsDomain();if(this.getParameterByName("ngVersion")&&(this.ngVersion=this.getParameterByName("ngVersion")),!this.exclude){for(index=0;this.ngAPIs.length>index;index++)this.ngAPIs[index]=this.ngAPIs[index].replace("ver",this.ngVersion),this.urls.push(corsDomain+this.ngAPIs[index]);this.debug&&console.log("This "+this.moduleLoadComponentId+" is included the angular ["+this.ngVersion+"]  base API")}if(this.consolidates.length>0){for(var index=0;this.consolidates.length>index;index++)this.urls.push(corsDomain+this.consolidates[index]);this.debug&&console.log("This "+this.moduleLoadComponentId+" is using consolidate file(s)")}else{for(index=0;this.ngModules.length>index;index++){var moduleUrls=this.getModulesUrl(this.ngModules[index]);if(moduleUrls)for(var mIndex=0;moduleUrls.length>mIndex;mIndex++)this.urls.push(corsDomain+moduleUrls[mIndex])}"undefined"!=typeof angular&&this.debug&&console.log("Angular already loaded")}for(index=0;this.otherAPIs.length>index;index++)-1==this.otherAPIs[index].indexOf("//")?this.urls.push(corsDomain+this.otherAPIs[index]):this.urls.push(this.otherAPIs[index]),this.debug&&console.log("This "+this.moduleLoadComponentId+" is using other API file(s)");var corsConsumreDomain=this.getConsumerDomain();for(index=0;this.consumerAPIs.length>index;index++)-1==this.consumerAPIs[index].indexOf("//")?this.urls.push(corsConsumreDomain+this.consumerAPIs[index]):this.urls.push(this.consumerAPIs[index]),this.debug&&console.log("This "+this.moduleLoadComponentId+" is using other API file(s)");this.debug&&console.log("The files to be loaded are "+this.urls);try{"undefined"!=typeof cachedUrls&&void 0!==cachedUrls&&cachedUrls&&(cachedUrls.length>0&&(this.urls=this.urls.filter(function(val){return-1==cachedUrls.indexOf(val)})),cachedUrls=this.urls)}catch(e){}if(!this.loadStarted){this.loadStarted=!0;var _this=this;$(document).scriptLoader(_this,_this.urls).then(function(){_this.scriptLoaded=!0,_this.loadModuleOnDemand||_this.loadAngularModule(callback)}),_this.prevScriptLoadedUrl=null;var retry=1,retryInterval=1e3,checkLoader=setInterval(function(){try{var mapUrl="//maps.google.com/maps/api/js?v=3.5&libraries=places&client=gme-hrbtaxgroupinc1&sensor=false&channel=officelocator";if(_this.scriptLoadedUrl.indexOf(mapUrl)>-1&&(1==_this.debug&&console.log("retry  : "+_this.scriptLoadedUrl),retry++),retry>10&&_this.prevScriptLoadedUrl==_this.scriptLoadedUrl&&_this.scriptLoadedUrl.indexOf(mapUrl)>-1){var index=_this.urls.indexOf(_this.scriptLoadedUrl);index>-1&&_this.urls.length>index&&_this.urls.splice(0,index+1),clearInterval(checkLoader),$(document).scriptLoader(_this,_this.urls).then(function(){_this.scriptLoaded=!0,_this.loadModuleOnDemand||_this.loadAngularModule(callback)})}_this.prevScriptLoadedUrl=_this.scriptLoadedUrl,_this.loaderCompleted&&clearInterval(checkLoader)}catch(e){console.log(e)}},retryInterval)}},this.isScriptLoaded=function(){return this.scriptLoaded},this.isModuleLoaded=function(){return this.moduleLoaded},this.loadModule=function(callback){if(this.isScriptLoaded())this.loadAngularModule(callback);else var _this=this,loaded=setInterval(function(){_this.isScriptLoaded()&&(clearInterval(loaded),_this.loadAngularModule(callback))},10)},this.loadAngularModule=function(callback){if(this.isModuleLoaded())callback(this.scope);else{var _this=this;angular.element(document).ready(function(){console.log("Angular Ready"),angular.bootstrap(_this.moduleLoadComponent,_this.modules);var injected=setInterval(function(){_this.moduleLoaded=!0,_this.scopeRequired?(_this.scope=_this.getScope(),_this.scope&&(clearInterval(injected),callback(_this.scope))):(clearInterval(injected),callback(_this.scope))},10)})}},this.loadAngularAPI=function(ngModules,otherAPIs,moduleLoadComponentId,modules,callback){this.ngModules=ngModules,this.otherAPIs=otherAPIs,this.moduleLoadComponentId=moduleLoadComponentId,this.moduleLoadComponent=document.getElementById(this.moduleLoadComponentId),this.modules=modules,this.loadScripts(callback)},this.getParameterByName=function(name,url){url||(url=window.location.href),name=name.replace(/[\[\]]/g,"\\$&");var regex=RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);return results?results[2]?decodeURIComponent(results[2].replace(/\+/g," ")):"":null}}var chain=null;(function($){jQuery.fn.extend({scriptLoader:function(obj,scripts){return chain=$.Deferred(),chain.resolve(),scripts.forEach(function(script){chain=chain.then(function(){return obj.scriptLoadedUrl=script,$.getScriptCached(script,function(data,status){1==obj.debug&&console.log(script+" has loaded succesfully ["+status+"].")})})}),chain.always(function(){1==obj.debug&&console.info("Chain Process done... ")}),chain.then(function(){obj.loaderCompleted=!0,console.info("All APIs have been succesfully completed")}),chain.fail(function(){console.info(" API has been failed to load. ")}),chain.promise()}})})(jQuery),jQuery.getScriptCached=function(url,callback){return $.ajax({url:url,dataType:"script",cache:!0}).done(callback)};